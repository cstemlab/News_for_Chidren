<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸–ç•Œåº•éƒ¨çš„ç§˜å¯†åŸå¸‚</title>
    <style>
        :root {
            --primary-100:#0077C2;
            --primary-200:#59a5f5;
            --primary-300:#c8ffff;
            --accent-100:#00BFFF;
            --accent-200:#00619a;
            --text-100:#333333;
            --text-200:#5c5c5c;
            --bg-100:#FFFFFF;
            --bg-200:#f5f5f5;
            --bg-300:#cccccc;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Microsoft YaHei', 'SimSun', serif; line-height: 1.6; color: var(--text-100); background-color: var(--bg-100); font-size: 18px; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, var(--primary-100), var(--primary-200)); color: white; padding: 2rem; text-align: center; }
        .header h1 { color: white; text-align: center; font-size: 2.5em; margin-bottom: 40px; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); border-bottom: 3px solid var(--primary-200); padding-bottom: 20px; }
        .header .subtitle { font-size: 1.2rem; font-style: italic; opacity: 0.9; }
        .content { padding: 2rem; }
        .chapter { margin-bottom: 3rem; padding: 1.5rem; background: #f8f9fa; border-radius: 10px; border-left: 5px solid #667eea; }
        .chapter h2 { color: #1e3c72; font-size: 1.8rem; margin-bottom: 1rem; border-bottom: 2px solid #667eea; padding-bottom: 0.5rem; }
        .chapter-image { text-align: center; margin: 1rem 0; }
        .chapter-image img { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin: 0.5rem; }
        .chapter-text-between { margin: 1rem 0; }
        .quiz-options li { cursor: pointer; }
        .quiz-options li.selected { background: #ffeb3b; color: #333; }
        .quiz-options li.correct { background: #4caf50; color: white; }
        .quiz-options li.incorrect { background: #f44336; color: white; }
        .quiz-options li.disabled { pointer-events: none; opacity: 0.7; }
        .ribbons-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; }
        .ribbon { position: absolute; width: 4px; height: 100px; background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3); animation: flutter 3s ease-in-out infinite; }
        @keyframes flutter { 0%, 100% { transform: translateY(0) rotate(0deg); } 25% { transform: translateY(-20px) rotate(5deg); } 50% { transform: translateY(-10px) rotate(-3deg); } 75% { transform: translateY(-15px) rotate(2deg); } }
        #confetti-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; }
        .confetti { position: absolute; width: 8px; height: 40px; background: #f0f; border-radius: 4px; animation: confetti-fall 5s ease-out forwards; }
        .confetti-large { width: 12px; height: 60px; border-radius: 6px; animation: confetti-fall-large 6s ease-out forwards; }
        .confetti-wide { width: 15px; height: 50px; border-radius: 7px; animation: confetti-fall-wide 5.5s ease-out forwards; }
        .confetti-star { width: 35px; height: 35px; clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); animation: confetti-fall-spin 5s ease-out forwards; }
        .confetti-ribbon { width: 6px; height: 80px; border-radius: 3px; animation: confetti-fall-ribbon 7s ease-out forwards; }
        .confetti-box { width: 20px; height: 20px; border-radius: 2px; animation: confetti-fall-box 5s ease-out forwards; }
        .confetti-ball { width: 18px; height: 18px; border-radius: 50%; animation: confetti-fall-ball 4.5s ease-out forwards; }
        .confetti-flake { width: 16px; height: 16px; clip-path: polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%); animation: confetti-fall-flake 5.5s ease-out forwards; }
        @keyframes confetti-fall { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 10% { transform: translateY(-80vh) rotate(180deg) scale(1.2); opacity: 1; } 90% { opacity: 1; } 100% { transform: translateY(100vh) rotate(1080deg) scale(0.5); opacity: 0; } }
        @keyframes confetti-fall-large { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 15% { transform: translateY(-70vh) rotate(270deg) scale(1.5); opacity: 1; } 85% { opacity: 1; } 100% { transform: translateY(100vh) rotate(1440deg) scale(0.3); opacity: 0; } }
        @keyframes confetti-fall-spin { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 20% { transform: translateY(-60vh) rotate(360deg) scale(1.3); opacity: 1; } 80% { opacity: 1; } 100% { transform: translateY(100vh) rotate(1800deg) scale(0.4); opacity: 0; } }
        @keyframes confetti-fall-wide { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 12% { transform: translateY(-75vh) rotate(200deg) scale(1.1); opacity: 1; } 88% { opacity: 1; } 100% { transform: translateY(100vh) rotate(1200deg) scale(0.6); opacity: 0; } }
        @keyframes confetti-fall-ribbon { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 8% { transform: translateY(-85vh) rotate(120deg) scale(1.2); opacity: 1; } 92% { opacity: 1; } 100% { transform: translateY(100vh) rotate(2160deg) scale(0.3); opacity: 0; } }
        @keyframes confetti-fall-box { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 15% { transform: translateY(-70vh) rotate(90deg) scale(1.1); opacity: 1; } 85% { opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg) scale(0.7); opacity: 0; } }
        @keyframes confetti-fall-ball { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 20% { transform: translateY(-60vh) rotate(180deg) scale(1.3); opacity: 1; } 80% { opacity: 1; } 100% { transform: translateY(100vh) rotate(900deg) scale(0.5); opacity: 0; } }
        @keyframes confetti-fall-flake { 0% { transform: translateY(-100vh) rotate(0deg) scale(1); opacity: 1; } 10% { transform: translateY(-80vh) rotate(150deg) scale(1.2); opacity: 1; } 90% { opacity: 1; } 100% { transform: translateY(100vh) rotate(1440deg) scale(0.4); opacity: 0; } }
        .highlight-box { background: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 1rem; margin: 1rem 0; font-weight: bold; }
        .question-box { background: #fff3e0; border: 2px solid #ff9800; border-radius: 8px; padding: 1rem; margin: 1rem 0; font-style: italic; }
        .emoji-section { background: #f1f8e9; border-radius: 8px; padding: 1rem; margin: 1rem 0; }
        .emoji-section h3 { color: #2e7d32; margin-bottom: 0.5rem; }
        .scientific-debrief { background-color: var(--accent-100); padding: 25px; border-radius: 15px; margin: 30px 0; border: 2px solid var(--accent-200); }
        .scientific-debrief h2, .scientific-debrief h3 { background: none; border: none; margin-top: 0; color: var(--text-100); }
        .references { background-color: var(--bg-200); padding: 25px; border-radius: 15px; margin: 30px 0; border: 2px solid var(--bg-300); }
        .references h2 { background: none; border: none; margin-top: 0; }
        .references ol { padding-left: 20px; }
        .references li { margin-bottom: 8px; }
        .references a { color: var(--primary-100); text-decoration: none; border-bottom: 1px dotted var(--primary-100); }
        .references a:hover { color: var(--primary-200); border-bottom: 1px solid var(--primary-200); }
        
        /* Navigation Bar Styles */
        .story-nav {
            position: sticky;
            top: 0;
            background: linear-gradient(135deg, var(--primary-100), var(--primary-200));
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            border-bottom: 3px solid var(--primary-300);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .nav-home {
            background-color: var(--accent-100);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .nav-home:hover {
            background-color: var(--accent-200);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .nav-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .nav-button {
            background-color: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
        }
        
        .nav-button:hover {
            background-color: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-1px);
        }
        
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .story-dropdown {
            background-color: rgba(255,255,255,0.9);
            color: var(--text-100);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 200px;
            cursor: pointer;
        }
        
        .story-dropdown:focus {
            outline: none;
            border-color: var(--accent-100);
            box-shadow: 0 0 0 3px rgba(0,191,255,0.3);
        }
        
        .search-box {
            background-color: rgba(255,255,255,0.9);
            color: var(--text-100);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 150px;
        }
        
        .search-box:focus {
            outline: none;
            border-color: var(--accent-100);
            box-shadow: 0 0 0 3px rgba(0,191,255,0.3);
        }
        
        .search-box::placeholder {
            color: var(--text-200);
            opacity: 0.7;
        }
        
        .nav-language {
            background-color: var(--accent-200);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .nav-language:hover {
            background-color: var(--primary-300);
            color: var(--text-100);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .story-dropdown,
            .search-box {
                min-width: 120px;
                font-size: 14px;
            }
            
            .nav-button {
                padding: 6px 12px;
                font-size: 14px;
            }
        }
        
        .quiz-section { background: linear-gradient(135deg, var(--primary-300), var(--accent-100)); padding: 30px; border-radius: 15px; margin: 30px 0; border: 2px solid var(--primary-200); }
        .quiz-section h2 { background: none; border: none; color: var(--text-100); margin-top: 0; text-align: center; margin-bottom: 25px; }
        .score-board { text-align: center; margin-bottom: 30px; padding: 15px; background-color: var(--bg-100); border-radius: 10px; border: 2px solid var(--primary-100); transition: all 0.3s ease; }
        .score-board.sticky { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; box-shadow: 0 4px 20px rgba(0,0,0,0.3); border: 3px solid var(--primary-100); background-color: var(--bg-100); min-width: 200px; }
        .score-board h3 { color: var(--primary-100); margin: 0; font-size: 1.3em; }
        .question { background-color: var(--bg-100); padding: 25px; margin: 20px 0; border-radius: 12px; border: 2px solid var(--accent-200); }
        .question h3 { color: var(--primary-100); margin-bottom: 20px; border: none; }
        .options { display: flex; flex-direction: column; gap: 15px; margin-bottom: 20px; }
        .option { background-color: var(--accent-100); border: 3px solid var(--accent-200); padding: 20px; border-radius: 12px; cursor: pointer; font-size: 20px; font-family: 'Microsoft YaHei', 'SimSun', serif; font-weight: bold; color: var(--text-100); text-align: left; transition: all 0.3s ease; min-height: 60px; display: flex; align-items: center; }
        .option:hover { background-color: var(--primary-300); border-color: var(--primary-100); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .option.correct { background-color: #4CAF50; color: white; border-color: #45a049; font-weight: bold; }
        .option.incorrect { background-color: #f44336; color: white; border-color: #da190b; font-weight: bold; }
        .option:disabled { cursor: not-allowed; opacity: 0.6; }
        .feedback { margin: 15px 0; padding: 15px; border-radius: 8px; font-weight: bold; text-align: center; display: none; }
        .feedback.correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; display: block; }
        .feedback.incorrect { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; display: block; }
        .hint { background-color: var(--primary-200); color: white; padding: 15px; border-radius: 8px; margin-top: 15px; display: none; font-style: italic; }
        .hint.show { display: block; }
        .perfect-score { background: linear-gradient(135deg, #FFD700, #FFA500); color: var(--text-100); padding: 25px; border-radius: 15px; text-align: center; font-size: 1.3em; font-weight: bold; margin-top: 30px; display: none; animation: bounce 1s ease-in-out; }
        .perfect-score.show { display: block; }
        @keyframes bounce { 0%,20%,50%,80%,100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }
        .learn-more { background: #e8f5e8; border-radius: 10px; padding: 1.5rem; margin: 2rem 0; }
        .learn-more h2 { color: #2e7d32; border-bottom: 2px solid #4caf50; }
        .learn-more ol { margin-left: 1.5rem; }
        .learn-more li { margin: 0.5rem 0; }
        .learn-more a { color: #1e3c72; text-decoration: none; }
        .learn-more a:hover { text-decoration: underline; }
        .footer { background: #1e3c72; color: white; text-align: center; padding: 2rem; font-style: italic; }
        .language-switch { position: fixed; top: 20px; right: 20px; z-index: 1000; background-color: var(--primary-100); color: white; padding: 10px 15px; border-radius: 25px; text-decoration: none; font-weight: bold; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); transition: all 0.3s ease; }
        .language-switch:hover { background-color: var(--primary-200); transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); }
        @media (max-width: 768px) { .container { margin: 0; box-shadow: none; } .header h1 { font-size: 2rem; } .content { padding: 1rem; } .chapter { padding: 1rem; } .language-switch { top: 10px; right: 10px; padding: 8px 12px; font-size: 14px; } }
    </style>
</head>
<body>
    <script src="../../navigation-template.js"></script>
    <!-- Sticky Navigation Bar -->
    <nav class="story-nav">
        <div class="nav-container">
            <a href="../../../index.html" class="nav-home">ğŸ  é¦–é¡µ</a>
            
            <div class="nav-controls">
                <button id="prevBtn" class="nav-button">â† ä¸Šä¸€ä¸ª</button>
                
                <select id="storyDropdown" class="story-dropdown">
                    <option value="">é€‰æ‹©æ•…äº‹...</option>
                </select>
                
                <input type="text" id="searchBox" class="search-box" placeholder="æœç´¢æ•…äº‹...">
                
                <button id="nextBtn" class="nav-button">ä¸‹ä¸€ä¸ª â†’</button>
            </div>
            
            <a href="The Secret Cities at the Bottom of the World - English.html" class="nav-language">English</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="header">
            <h1>ä¸–ç•Œåº•éƒ¨çš„ç§˜å¯†åŸå¸‚</h1>
            <p class="subtitle">ä¸€åœºæ”¹å˜ä¸€åˆ‡çš„æ·±æµ·æ¢é™©</p>
        </div>
        <div class="content">
            <div class="chapter">
                <h2>ç¬¬ä¸€ç« ï¼šå²ä¸Šæœ€ä¼Ÿå¤§çš„æ¢é™©</h2>
                <div class="chapter-image">
                    <img src="Chapter 1.1.png" alt="æ·±æµ·æ¢ç´¢æ½œè‰‡">
                </div>
                <div class="chapter-text-between">
                    <p>å¦‚æœæˆ‘å‘Šè¯‰ä½ ï¼Œå°±åœ¨ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« çš„æ­¤æ—¶æ­¤åˆ»ï¼Œæœ‰æ•´ä¸ªç”Ÿå‘½åŸå¸‚ç”Ÿæ´»åœ¨æ¯”ç ç©†æœ—ç›å³°è¿˜è¦æ·±çš„æµ·åº•ï¼Œä½ ä¼šæ€ä¹ˆæƒ³ï¼Ÿ</p>
                    <p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ æ˜¯ä¸€åå‹‡æ•¢çš„æ¢é™©å®¶ï¼Œçˆ¬è¿›ä¸€è‰˜åä¸º"å¥‹æ–—è€…"çš„è¶…å¼ºæ½œè‰‡ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿæ½œå…¥æ¯”ä»»ä½•äººéƒ½æ›´æ·±çš„åœ°æ–¹â€”â€”æ·±å…¥å¤ªå¹³æ´‹æœ€é»‘æš—çš„æ·±æ¸Š9,533ç±³ã€‚è¿™å°±åƒæŠŠ30åº§å¸å›½å¤§å¦å åœ¨ä¸€èµ·ï¼Œç„¶åæ½œåˆ°æœ€åº•éƒ¨ï¼</p>
                </div>
                <div class="chapter-image">
                    <img src="Chapter 1.2.png" alt="æµ·æ´‹æ·±åº¦å¯¹æ¯”">
                </div>
                <div class="highlight-box">
                    <strong>æƒ³æƒ³è¿™ä¸ªï¼š</strong> å¦‚æœä½ åœ¨è¿™é‡Œå¾€æµ·é‡Œæ‰”ä¸€å—çŸ³å¤´ï¼Œå®ƒéœ€è¦è¶…è¿‡ä¸€ä¸ªå°æ—¶æ‰èƒ½åˆ°è¾¾æµ·åº•ã€‚åœ¨è¿™æ ·ä¸€ä¸ªé»‘æš—ã€å‹æŠ‘çš„åœ°æ–¹ï¼Œå‹åŠ›å°±åƒæœ‰100è¾†æ±½è½¦å‹åœ¨ä½ èº«ä¸Šï¼Œä½ è§‰å¾—ä¼šå‘ç°ä»€ä¹ˆï¼Ÿ
                </div>
            </div>
            <div class="chapter">
                <h2>ç¬¬äºŒç« ï¼šä»¤äººéœ‡æ’¼çš„å‘ç°</h2>
                <div class="chapter-image">
                    <img src="Chapter 2.1.png" alt="æ·±æµ·ç”Ÿç‰©">
                </div>
                <div class="chapter-text-between">
                    <p>ç§‘å­¦å®¶ä»¬ä»¥ä¸ºè¿™äº›æ·±æµ·æµ·æ²Ÿæ˜¯ç©ºæ—·çš„è’åœ°ã€‚ä½†ä»–ä»¬é”™äº†â€”â€”é”™å¾—ç¦»è°±ï¼</p>
                    <p>åœ¨æµ·åº•ï¼Œæ¢é™©å®¶ä»¬å‘ç°äº†ä»¤äººéš¾ä»¥ç½®ä¿¡çš„ä¸œè¥¿ï¼š<strong>ç¹å¿™çš„æ°´ä¸‹åŸå¸‚</strong>ç»µå»¶2,500å…¬é‡Œï¼ˆå°±åƒä»ä½ å®¶å¼€è½¦åˆ°ä¸‰ä¸ªå·é‚£ä¹ˆè¿œï¼‰ï¼Œå……æ»¡äº†æˆåƒä¸Šä¸‡ç§ç¥å¥‡çš„ç”Ÿç‰©ï¼å·¨å¤§çš„ç®¡çŠ¶è •è™«æŒ¥èˆç€çº¢è‰²çš„è§¦æ‰‹ï¼Œå°±åƒæ°´ä¸‹çš„èŠ±æœµï¼›åƒé¤ç›˜ä¸€æ ·å¤§çš„è›¤èœŠï¼›è¿˜æœ‰åƒæ°´ä¸‹å†œæ°‘ä¸€æ ·å·¥ä½œçš„å°ç»†èŒã€‚</p>
                </div>
                <div class="chapter-image">
                    <img src="Chapter 2.2.png" alt="æ°´ä¸‹åŸå¸‚">
                </div>
                <div class="highlight-box">
                    <strong>æœ€ç–¯ç‹‚çš„éƒ¨åˆ†æ˜¯ï¼š</strong> é‚£é‡Œæ²¡æœ‰é˜³å…‰ã€‚é‚£ä¹ˆè¿™äº›ç”Ÿç‰©æ˜¯å¦‚ä½•åˆ¶é€ é£Ÿç‰©å¹¶ç”Ÿå­˜çš„å‘¢ï¼Ÿ
                </div>
            </div>
            <div class="chapter">
                <h2>ç¬¬ä¸‰ç« ï¼šç¥å¥‡çš„è¶…çº§èƒ½åŠ›ï¼šåŒ–èƒ½åˆæˆ</h2>
                <div class="chapter-image">
                    <img src="Chapter 3.1.png" alt="åŒ–èƒ½åˆæˆè¿‡ç¨‹">
                </div>
                <div class="chapter-text-between">
                    <p>ä½ çŸ¥é“æ¤ç‰©å¦‚ä½•åˆ©ç”¨é˜³å…‰åˆ¶é€ é£Ÿç‰©å—ï¼Ÿè¿™äº›æ·±æµ·ç”Ÿç‰©æœ‰ä¸€ç§ä¸åŒçš„è¶…çº§èƒ½åŠ›ï¼Œå«åš<strong>åŒ–èƒ½åˆæˆ</strong>â€”â€”å®ƒä»¬ä»è‡­è‡­çš„åŒ–å­¦ç‰©è´¨ä¸­åˆ¶é€ é£Ÿç‰©ï¼</p>
                    <p>è¿™æ ·æƒ³ï¼šè¿™äº›ç”Ÿç‰©ä¸æ˜¯ç”¨æ•è·é˜³å…‰çš„å¤ªé˜³èƒ½æ¿ï¼Œè€Œæ˜¯æœ‰å†…ç½®çš„"åŒ–å­¦æ¿"ï¼Œå°†æœ‰æ¯’æ°”ä½“ï¼ˆå¦‚ç”²çƒ·å’Œç¡«åŒ–æ°¢ï¼‰è½¬åŒ–ä¸ºç¾å‘³çš„é£Ÿç‰©ã€‚è¿™å°±åƒæœ‰ä¸€ä¸ªç¥å¥‡çš„é…æ–¹ï¼Œå°†æœ‰æ¯’åŒ–å­¦ç‰©è´¨è½¬åŒ–ä¸ºèƒ½é‡ï¼</p>
                </div>
                <div class="chapter-image">
                    <img src="Chapter 3.2.png" alt="æ·±æµ·åŒ–å­¦ååº”">
                </div>
                <div class="question-box">
                    <strong>ç»™ä½ çš„é—®é¢˜ï¼š</strong> å¦‚æœä½ èƒ½æ‹¥æœ‰ä»»ä½•åˆ¶é€ é£Ÿç‰©çš„è¶…çº§èƒ½åŠ›ï¼Œä½ ä¼šé€‰æ‹©ä»€ä¹ˆï¼Ÿåƒæ¤ç‰©ä¸€æ ·çš„å¤ªé˜³èƒ½ï¼Œè¿˜æ˜¯åƒè¿™äº›æ·±æµ·ç”Ÿç‰©ä¸€æ ·çš„åŒ–å­¦èƒ½ï¼Ÿ
                </div>
            </div>
            <div class="chapter">
                <h2>ç¬¬å››ç« ï¼šä¸ºä»€ä¹ˆè¿™ä¸ªå‘ç°éœ‡æ’¼ä¸–ç•Œ</h2>
                <div class="chapter-image">
                    <img src="Chapter 4.1.png" alt="åœ°çƒå’Œå¤ªç©ºæ¢ç´¢">
                </div>
                <div class="chapter-text-between">
                    <p>è¿™ä¸ªå‘ç°æ­£åœ¨é‡å†™åœ°çƒç”Ÿå‘½çš„è§„åˆ™ï¼è¿™æ„å‘³ç€ï¼š</p>
                    <div class="emoji-section">
                        <h3>ğŸŒ ç”Ÿå‘½å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ç”Ÿå­˜</h3>
                        <p>å¦‚æœç”Ÿç‰©èƒ½åœ¨ä¸–ç•Œä¸Šæœ€ä¸å¯èƒ½çš„åœ°æ–¹ç”Ÿæ´»ï¼Œæˆ‘ä»¬è¿˜èƒ½åœ¨å“ªé‡Œæ‰¾åˆ°ç”Ÿå‘½ï¼Ÿä¹Ÿè®¸åœ¨ç«æ˜Ÿä¸Šï¼Ÿåœ¨æœ¨æ˜Ÿçš„å†°å«æ˜Ÿä¸Šï¼Ÿ</p>
                    </div>
                    <div class="emoji-section">
                        <h3>ğŸ”¬ æˆ‘ä»¬å¯èƒ½å‘ç°æ–°è¯ç‰©</h3>
                        <p>è¿™äº›æç«¯ç”Ÿç‰©å¯èƒ½æŒæ¡ç€æ²»æ„ˆç–¾ç—…çš„ç§˜å¯†ï¼</p>
                    </div>
                </div>
                <div class="chapter-image">
                    <img src="Chapter 4.2.png" alt="åŒ»å­¦å‘ç°">
                </div>
                <div class="emoji-section">
                    <h3>ğŸŒŠ æˆ‘ä»¬çš„æµ·æ´‹å……æ»¡æƒŠå–œ</h3>
                    <p>è¿˜æœ‰ä»€ä¹ˆç§˜å¯†åŸå¸‚ç­‰å¾…è¢«å‘ç°ï¼Ÿ</p>
                </div>
                <div class="question-box">
                    <strong>æ¢é™©é—®é¢˜ï¼š</strong> å¦‚æœä½ èƒ½è®¾è®¡ä¸€è‰˜æ½œè‰‡æ¥æ¢ç´¢æ·±æµ·ï¼Œå®ƒéœ€è¦ä»€ä¹ˆç‰¹æ®ŠåŠŸèƒ½æ‰èƒ½åœ¨å‹ç¢æ€§çš„æ·±åº¦ä¸­ç”Ÿå­˜ï¼Ÿ
                </div>
            </div>
            <div class="chapter">
                <h2>ç¬¬äº”ç« ï¼šä¸ä½ ç”Ÿæ´»çš„è”ç³»</h2>
                <div class="chapter-image">
                    <img src="Chapter 5.1.png" alt="èŠ±å›­åœŸå£¤ç»†èŒ">
                </div>
                <div class="chapter-text-between">
                    <p>ä»¤äººæƒŠå¥‡çš„æ˜¯â€”â€”åŒ–èƒ½åˆæˆä¸ä»…ä»…å‘ç”Ÿåœ¨æ·±æµ·ä¸­ã€‚å®ƒå°±åœ¨æˆ‘ä»¬èº«è¾¹å‘ç”Ÿï¼åœ¨åœŸå£¤ä¸­ï¼Œåœ¨æ´ç©´ä¸­ï¼Œç”šè‡³åœ¨ä½ å¯èƒ½ä»æœªæƒ³åˆ°çš„åœ°æ–¹ã€‚</p>
                    <p>æƒ³æƒ³è¿™ä¸ªï¼šä½ èŠ±å›­åœŸå£¤ä¸­çš„ä¸€äº›ç»†èŒä½¿ç”¨åŒ–èƒ½åˆæˆæ¥å¸®åŠ©æ¤ç‰©ç”Ÿé•¿ã€‚ä¸ºæ‰€æœ‰æ¤ç‰©æä¾›è¥å…»çš„æ°®å¾ªç¯æ¶‰åŠåŒ–èƒ½åˆæˆç»†èŒã€‚å³ä½¿åœ¨æ¸©æ³‰æˆ–åœ°ä¸‹æ·±å¤„ç­‰æç«¯åœ°æ–¹ï¼Œç”Ÿå‘½ä¹Ÿèƒ½æ‰¾åˆ°ä½¿ç”¨åŒ–å­¦èƒ½çš„æ–¹æ³•ã€‚</p>
                </div>
                <div class="chapter-image">
                    <img src="Chapter 5.2.png" alt="è‡ªç„¶ç•Œçš„åŒ–å­¦è¿‡ç¨‹">
                </div>
                <div class="highlight-box">
                    <strong>ä½ çš„æ—¥å¸¸ç”Ÿæ´»ä¾¦æ¢ä»»åŠ¡ï¼š</strong><br>
                    <em>æœ¬å‘¨çœ‹çœ‹ä½ çš„å®¶å’Œç¤¾åŒºå‘¨å›´ã€‚ä½ è®¤ä¸ºåŒ–èƒ½åˆæˆç»†èŒå¯èƒ½åœ¨å“ªé‡Œæ–½å±•å®ƒä»¬çš„é­”æ³•ï¼Ÿæ£€æŸ¥ä½ çš„èŠ±å›­åœŸå£¤ï¼Œçœ‹çœ‹å †è‚¥å †ï¼Œæˆ–è€…ç ”ç©¶ä½ å½“åœ°æ±¡æ°´å¤„ç†å‚å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä½ èƒ½æ‰¾åˆ°è‡³å°‘ä¸‰ä¸ªåœ°æ–¹ï¼ŒåŒ–å­¦è¢«ç”¨æ¥åˆ›é€ èƒ½é‡æˆ–é£Ÿç‰©è€Œä¸æ˜¯é˜³å…‰å—ï¼Ÿ</em>
                </div>
            </div>
            <div class="scientific-debrief">
                <h2>ç§‘å­¦ç®€æŠ¥</h2>
                <div class="chapter-image">
                    <img src="Chapter 6.1.png" alt="ç§‘å­¦ç ”ç©¶æ•°æ®">
                </div>
                <div class="chapter-text-between">
                    <p><strong>é™ˆèæ‹‰åšå£«ï¼Œæµ·æ´‹ç”Ÿç‰©å­¦å®¶</strong><br>æ·±æµ·ç”Ÿæ€ç³»ç»Ÿç ”ç©¶æ‰€</p>
                    <p>è¿™ä¸€å‘ç°ä»£è¡¨äº†æˆ‘ä»¬å¯¹æ·±æ¸Šå¸¦ç”Ÿæ€å­¦ç†è§£çš„èŒƒå¼è½¬å˜ã€‚ç ”ç©¶å›¢é˜Ÿä½¿ç”¨å…¨æµ·æ·±è½½äººæ½œæ°´å™¨"å¥‹æ–—è€…"ï¼Œåœ¨åƒå²›-å ªå¯ŸåŠ æµ·æ²Ÿå’Œè¥¿é˜¿ç•™ç”³æµ·æ²Ÿè®°å½•äº†å‰æ‰€æœªæœ‰çš„2,500å…¬é‡ŒèŒƒå›´å†…çš„åŒ–èƒ½åˆæˆç¾¤è½ï¼Œæœ€æ·±åœ°ç‚¹è¾¾9,533ç±³â€”â€”ä¸ºè¿™ç±»ç”Ÿæ€ç³»ç»Ÿåˆ›é€ äº†æ–°çš„æ·±åº¦è®°å½•ã€‚</p>
                    <h3>å…³é”®ç§‘å­¦å‘ç°ï¼š</h3>
                    <ul>
                        <li><strong>ç”Ÿç‰©å¤šæ ·æ€§ï¼š</strong> å¯†é›†çš„é¡»è…•åŠ¨ç‰©å¤šæ¯›ç±»å’ŒåŒ–èƒ½å…±ç”ŸåŒå£³ç±»ç§ç¾¤ï¼Œå¯†åº¦è¾¾åˆ°æ¯å¹³æ–¹ç±³5,813 Â± 1,335ä¸ªä¸ªä½“</li>
                        <li><strong>åœ°çƒåŒ–å­¦ï¼š</strong> åŒä½ç´ åˆ†æï¼ˆÎ´13Cå€¼ä¸º-78.1â€°è‡³-95.7â€°ï¼‰ç¡®è®¤äº†æ·±å±‚æ²‰ç§¯ç‰©ä¸­é€šè¿‡CO2è¿˜åŸçš„å¾®ç”Ÿç‰©ç”²çƒ·ç”Ÿäº§</li>
                    </ul>
                </div>
                <div class="chapter-image">
                    <img src="Chapter 6.2.png" alt="ç ”ç©¶æ–¹æ³•å’Œå½±å“">
                </div>
                <div class="chapter-text-between">
                    <ul>
                        <li><strong>åœ°è´¨æœºåˆ¶ï¼š</strong> å¯Œå«ç”²çƒ·çš„æµä½“é€šè¿‡å¢ç”Ÿæ¥”åº•éƒ¨çš„å¼¯æ›²ç›¸å…³æ­£æ–­å±‚è¿ç§»ï¼Œä¸æµ…æ°´æ¸—æ¼å½¢æˆå½¢æˆå¯¹æ¯”</li>
                    </ul>
                    <h3>å½±å“ï¼š</h3>
                    <p>è¿™æŒ‘æˆ˜äº†ä¼ ç»Ÿè§‚ç‚¹ï¼Œå³æ·±æ¸Šç”Ÿæ€ç³»ç»Ÿä¸»è¦æ˜¯å¼‚å…»çš„ï¼Œä¾èµ–è¡¨é¢è¡ç”Ÿçš„æœ‰æœºç‰©ã€‚å¹¿æ³›çš„å­˜åœ¨è¡¨æ˜åŒ–èƒ½åˆæˆå¯èƒ½åœ¨æ·±æ¸Šé£Ÿç‰©ç½‘å’Œæ·±æµ·ç¢³å¾ªç¯ä¸­å‘æŒ¥ç€ä»¥å‰æœªè¢«å……åˆ†è®¤è¯†çš„ä½œç”¨ã€‚é‰´äºå…¨çƒæ·±æ¸Šæµ·æ²Ÿçš„åœ°è´¨ç›¸ä¼¼æ€§ï¼Œè¿™æ ·çš„ç¾¤è½å¯èƒ½æ¯”ä¹‹å‰è®¤è¯†åˆ°çš„è¦å¸¸è§å¾—å¤šã€‚</p>
                    <p>ç ”ç©¶æ–¹æ³•â€”â€”è·¨å¤šä¸ªæ½œæ°´åœ°ç‚¹çš„ç³»ç»Ÿæ½œæ°´å™¨è°ƒæŸ¥â€”â€”ä¸ºæœªæ¥çš„æ·±æ¸Šå¸¦æ¢ç´¢æä¾›äº†å¼ºæœ‰åŠ›çš„æ¡†æ¶ï¼Œä»£è¡¨äº†æ·±æµ·ç”Ÿç‰©å‘ç°çš„é‡å¤§è¿›æ­¥ã€‚</p>
                </div>
            </div>
            <div class="quiz-section">
                <h2>æµ‹éªŒæ—¶é—´ï¼šæµ‹è¯•ä½ çš„æ·±æµ·çŸ¥è¯†ï¼</h2>
                <div class="score-board" id="score-board"></div>
                <h3>ä½ çš„åˆ†æ•°ï¼š<span id="score">0</span>/3</h3>
            </div>

            <div class="question" id="q1">
                <h3>é—®é¢˜1ï¼šè¿™äº›æ·±æµ·æµ·æ²Ÿä¸­çš„ç”Ÿç‰©æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Ÿ</h3>
                <div class="options">
                    <button class="option" onclick="checkAnswer(1, 'A')">A) å®ƒä»¬å¯ä»¥ç”¨ç‰¹æ®Šçš„çœ¼ç›åœ¨å®Œå…¨é»‘æš—ä¸­çœ‹è§</button>
                    <button class="option" onclick="checkAnswer(1, 'B')">B) å®ƒä»¬ä»åŒ–å­¦ç‰©è´¨è€Œä¸æ˜¯é˜³å…‰ä¸­åˆ¶é€ é£Ÿç‰©</button>
                    <button class="option" onclick="checkAnswer(1, 'C')">C) å®ƒä»¬æ¯”ä»»ä½•è¡¨å±‚é±¼ç±»æ¸¸å¾—éƒ½å¿«</button>
                    <button class="option" onclick="checkAnswer(1, 'D')">D) å®ƒä»¬åœ¨é»‘æš—ä¸­å‘å…‰æ¥å¸å¼•é£Ÿç‰©</button>
                </div>
                <div class="feedback" id="f1"></div>
                <div class="hint" id="h1">è®°ä½æˆ‘ä»¬è°ˆè®ºçš„ç¥å¥‡è¶…çº§èƒ½åŠ›ï¼è¿™äº›ç”Ÿç‰©ä¸éœ€è¦åƒæ¤ç‰©é‚£æ ·çš„é˜³å…‰ã€‚è¿™å°±æ˜¯åŒ–èƒ½åˆæˆã€‚</div>
            </div>

            <div class="question" id="q2">
                <h3>é—®é¢˜2ï¼šç§‘å­¦å®¶å‘ç°æœ€æ·±çš„æ°´ä¸‹ç”Ÿå‘½åŸå¸‚æœ‰å¤šæ·±ï¼Ÿ</h3>
                <div class="options">
                    <button class="option" onclick="checkAnswer(2, 'A')">A) 3ç±³</button>
                    <button class="option" onclick="checkAnswer(2, 'B')">B) 300ç±³</button>
                    <button class="option" onclick="checkAnswer(2, 'C')">C) 9,533ç±³</button>
                    <button class="option" onclick="checkAnswer(2, 'D')">D) 10,000ç±³ï¼ˆé£æœºé«˜åº¦ï¼‰</button>
                </div>
                <div class="feedback" id="f2"></div>
                <div class="hint" id="h2">æƒ³æƒ³æˆ‘ä»¬æ•…äº‹ä¸­çš„æ¯”è¾ƒï¼å°±åƒå 30åº§å¸å›½å¤§å¦ã€‚</div>
            </div>

            <div class="question" id="q3">
                <h3>é—®é¢˜3ï¼šç§‘å­¦å®¶ç»™å‘ç°è¿™äº›ç¥å¥‡ç”Ÿç‰©çš„æœ€æ·±åœ°æ–¹èµ·äº†ä»€ä¹ˆåå­—ï¼Ÿ</h3>
                <div class="options">
                    <button class="option" onclick="checkAnswer(3, 'A')">A) ä¸å¯èƒ½åœ°å¸¦</button>
                    <button class="option" onclick="checkAnswer(3, 'B')">B) åŒ–å­¦åŸ</button>
                    <button class="option" onclick="checkAnswer(3, 'C')">C) æœ€æ·±ç‚¹</button>
                    <button class="option" onclick="checkAnswer(3, 'D')">D) æ°´ä¸‹ç ç©†æœ—ç›å³°</button>
                </div>
                <div class="feedback" id="f3"></div>
                <div class="hint" id="h3">ä»–ä»¬é€‰æ‹©äº†ä¸€ä¸ªç®€å•è€Œæœ‰æ„ä¹‰çš„åå­—ï¼šæœ€æ·±ç‚¹ã€‚</div>
            </div>

            <div id="confetti-container"></div>
            <div class="perfect-score" id="perfect-score">ğŸ‰ å¤ªæ£’äº†ï¼æ»¡åˆ†ï¼ä½ æ˜¯ä¸€ä¸ªæ·±æµ·æ¢é™©å®¶ï¼ğŸ‰</div>
            <div class="learn-more">
                <h2>äº†è§£æ›´å¤šï¼š</h2>
                <ol>
                    <li><a href="https://oceanexplorer.noaa.gov/facts/photochemo.html" target="_blank">å…‰åˆä½œç”¨å’ŒåŒ–èƒ½åˆæˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
                    <li><a href="https://en.wikipedia.org/wiki/Hadal_zone" target="_blank">æ·±æ¸Šå¸¦ - ç»´åŸºç™¾ç§‘</a></li>
                    <li><a href="https://www.nature.com/articles/s41586-025-09317-z" target="_blank">æ·±æ¸Šæµ·æ²Ÿæœ€æ·±å¤„çš„ç¹è£åŒ–èƒ½åˆæˆç”Ÿå‘½ | Nature</a></li>
                    <li><a href="https://oceanographicmagazine.com/news/chemical-eating-marine-life-is-deepest-colony-known-to-exist/" target="_blank">åŒ–å­¦æ‘„é£Ÿæµ·æ´‹ç”Ÿç‰©æ˜¯å·²çŸ¥å­˜åœ¨çš„"æœ€æ·±ç¾¤è½" - Oceanographic</a></li>
                    <li><a href="https://deepoceaneducation.org/resources/chemosynthesis/" target="_blank">åŒ–èƒ½åˆæˆäº‹å®è¡¨ - æ·±æµ·æ•™è‚²é¡¹ç›®</a></li>
                </ol>
            </div>
            <div class="footer">
                <p><strong>ä¸‹æ¬¡ä½ çœ‹åˆ°æµ·æ´‹æ—¶ï¼Œè¯·è®°ä½ï¼šåœ¨æ³¢æµªæ·±å¤„ï¼Œæ•´ä¸ªç”Ÿå‘½åŸå¸‚æ­£åœ¨åˆ©ç”¨åœ°çƒæœ¬èº«çš„åŒ–å­¦ç‰©è´¨è“¬å‹ƒå‘å±•ã€‚å½“ä½ æˆä¸ºç§‘å­¦å®¶æ—¶ï¼Œä½ ä¼šå‘ç°ä»€ä¹ˆç§˜å¯†ï¼Ÿ</strong></p>
            </div>
        </div>
    </div>
    <div class="ribbons-container" id="ribbonsContainer"></div>
    <div id="confetti-container"></div>
    
    <script>
        // Initialize standardized navigation
        const storyNavigation = new StoryNavigation('secret-cities-zh');
        
        // Initialize navigation when page loads
        document.addEventListener('DOMContentLoaded', () => {
            storyNavigation.initialize();
        });
        
        const correctAnswers = { 1: 'B', 2: 'C', 3: 'C' };
        const praises = {
            1: "å¤ªæ£’äº†ï¼æ·±æµ·ç”Ÿç‰©ä½¿ç”¨åŒ–å­¦èƒ½ï¼Œè€Œä¸æ˜¯é˜³å…‰ï¼",
            2: "æ­£ç¡®ï¼9,533ç±³â€”â€”æ¯”ç ç©†æœ—ç›å³°è¿˜è¦æ·±ï¼",
            3: "å¾ˆå¥½ï¼ä»–ä»¬ç§°å®ƒä¸º'æœ€æ·±ç‚¹'ã€‚"
        };
        let score = 0; const answered = new Set();

        function checkAnswer(q, choice) {
            const correct = correctAnswers[q] === choice;
            const feedback = document.getElementById('f' + q);
            const hint = document.getElementById('h' + q);
            const options = document.querySelectorAll('#q' + q + ' .option');
            const clicked = event.target;
            feedback.style.display = 'none'; hint.style.display = 'none'; hint.classList.remove('show');
            if (correct) {
                clicked.classList.add('correct');
                feedback.textContent = praises[q]; feedback.className = 'feedback correct'; feedback.style.display = 'block';
                if (!answered.has(q)) { score++; answered.add(q); updateScore(); }
                options.forEach(o => { o.disabled = true; if (!o.classList.contains('correct')) o.style.opacity = '0.4'; });
            } else {
                clicked.classList.add('incorrect');
                feedback.textContent = 'ä¸å¤ªå¯¹ï¼å†è¯•ä¸€æ¬¡ï¼'; feedback.className = 'feedback incorrect'; feedback.style.display = 'block';
                hint.style.display = 'block'; hint.classList.add('show');
                clicked.disabled = true;
                setTimeout(() => { options.forEach(o => { if (!o.classList.contains('incorrect')) o.disabled = false; }); }, 800);
            }
        }
        function updateScore() {
            document.getElementById('score').textContent = score;
            if (score === 3) { setTimeout(() => { document.getElementById('perfect-score').classList.add('show'); createConfetti(); }, 1200); }
        }
        
        function createRibbonsAnimation() {
            const container = document.getElementById('ribbonsContainer');
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#a8e6cf', '#ffd3a5'];
            
            for (let i = 0; i < 50; i++) {
                const ribbon = document.createElement('div');
                ribbon.className = 'ribbon';
                ribbon.style.left = Math.random() * 100 + '%';
                ribbon.style.top = Math.random() * 100 + '%';
                ribbon.style.background = colors[Math.floor(Math.random() * colors.length)];
                ribbon.style.animationDelay = Math.random() * 3 + 's';
                ribbon.style.animationDuration = (2 + Math.random() * 2) + 's';
                container.appendChild(ribbon);
            }
            
            // Remove ribbons after animation
            setTimeout(() => {
                container.innerHTML = '';
            }, 5000);
        }
        
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#FF6600', '#ff983f', '#ffffa1', '#4CAF50', '#FFD700', '#FFA500', '#FF1493', '#00CED1', '#FF69B4', '#32CD32', '#FF4500', '#9370DB', '#FF0080', '#00FF80', '#8000FF', '#FF8000'];

            // Create multiple waves of paper roll confetti for maximum impact!
            for (let wave = 0; wave < 4; wave++) {
                setTimeout(() => {
                    // Each wave has different types of paper roll confetti
                    for (let i = 0; i < 120; i++) {
                        setTimeout(() => {
                            const confetti = document.createElement('div');
                            const rand = Math.random();

                            // Different types of confetti - 20% rolls, 80% other shapes
                            if (rand < 0.05) {
                                // Long ribbon confetti (5%)
                                confetti.className = 'confetti confetti-ribbon';
                            } else if (rand < 0.1) {
                                // Large paper roll (5%)
                                confetti.className = 'confetti confetti-large';
                            } else if (rand < 0.2) {
                                // Regular paper roll (10%)
                                confetti.className = 'confetti';
                            } else if (rand < 0.4) {
                                // Star confetti (20%)
                                confetti.className = 'confetti confetti-star';
                            } else if (rand < 0.6) {
                                // Box confetti (20%)
                                confetti.className = 'confetti confetti-box';
                            } else if (rand < 0.8) {
                                // Ball confetti (20%)
                                confetti.className = 'confetti confetti-ball';
                            } else {
                                // Flake confetti (20%)
                                confetti.className = 'confetti confetti-flake';
                            }

                            confetti.style.left = Math.random() * 100 + '%';
                            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                            confetti.style.animationDelay = Math.random() * 0.3 + 's';

                            // Add some confetti that starts from different heights for more chaos
                            if (Math.random() > 0.7) {
                                confetti.style.top = '-' + (Math.random() * 300 + 150) + 'px';
                            }

                            container.appendChild(confetti);

                            // Remove confetti after animation
                            setTimeout(() => {
                                if (confetti.parentNode) {
                                    confetti.parentNode.removeChild(confetti);
                                }
                            }, 9000);
                        }, i * 12);
                    }
                }, wave * 400);
            }

            // Add massive center burst of long ribbons
            setTimeout(() => {
                for (let i = 0; i < 80; i++) {
                    setTimeout(() => {
                        const burst = document.createElement('div');
                        const burstType = Math.random();

                        if (burstType < 0.4) {
                            burst.className = 'confetti confetti-ribbon';
                        } else if (burstType < 0.7) {
                            burst.className = 'confetti confetti-large';
                        } else {
                            burst.className = 'confetti confetti-wide';
                        }

                        burst.style.left = (40 + Math.random() * 20) + '%'; // Center burst area
                        burst.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        burst.style.animationDelay = '0s';

                        container.appendChild(burst);

                        setTimeout(() => {
                            if (burst.parentNode) {
                                burst.parentNode.removeChild(burst);
                            }
                        }, 8000);
                    }, i * 8);
                }
            }, 1200);

            // Add side bursts for even more spectacular effect
            setTimeout(() => {
                // Left side burst
                for (let i = 0; i < 40; i++) {
                    setTimeout(() => {
                        const leftBurst = document.createElement('div');
                        leftBurst.className = 'confetti confetti-ribbon';
                        leftBurst.style.left = Math.random() * 25 + '%';
                        leftBurst.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        leftBurst.style.animationDelay = '0s';
                        container.appendChild(leftBurst);

                        setTimeout(() => {
                            if (leftBurst.parentNode) {
                                leftBurst.parentNode.removeChild(leftBurst);
                            }
                        }, 8000);
                    }, i * 10);
                }

                // Right side burst
                for (let i = 0; i < 40; i++) {
                    setTimeout(() => {
                        const rightBurst = document.createElement('div');
                        rightBurst.className = 'confetti confetti-ribbon';
                        rightBurst.style.left = (75 + Math.random() * 25) + '%';
                        rightBurst.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        rightBurst.style.animationDelay = '0s';
                        container.appendChild(rightBurst);

                        setTimeout(() => {
                            if (rightBurst.parentNode) {
                                rightBurst.parentNode.removeChild(rightBurst);
                            }
                        }, 8000);
                    }, i * 10);
                }
            }, 2000);
        }

        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#0077C2', '#59a5f5', '#c8ffff', '#00BFFF', '#00619a', '#FFD700', '#FFA500'];
            for (let wave = 0; wave < 3; wave++) {
                setTimeout(() => {
                    for (let i = 0; i < 100; i++) {
                        setTimeout(() => {
                            const c = document.createElement('div');
                            const r = Math.random();
                            if (r < 0.15) c.className = 'confetti confetti-ribbon';
                            else if (r < 0.3) c.className = 'confetti confetti-large';
                            else if (r < 0.45) c.className = 'confetti confetti-wide';
                            else if (r < 0.6) c.className = 'confetti confetti-star';
                            else if (r < 0.75) c.className = 'confetti confetti-box';
                            else if (r < 0.9) c.className = 'confetti confetti-ball';
                            else c.className = 'confetti confetti-flake';
                            c.style.left = Math.random() * 100 + '%';
                            c.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                            c.style.animationDelay = Math.random() * 0.3 + 's';
                            if (Math.random() > 0.7) { c.style.top = '-' + (Math.random() * 300 + 150) + 'px'; }
                            container.appendChild(c);
                            setTimeout(() => { if (c.parentNode) c.parentNode.removeChild(c); }, 9000);
                        }, i * 10);
                    }
                }, wave * 400);
            }
        }
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize navigation
            initializeNavigation();
            
            const scoreBoard = document.getElementById('score-board');
            const quizSection = document.querySelector('.quiz-section');
            if (scoreBoard && quizSection) {
                window.addEventListener('scroll', function () {
                    const rect = quizSection.getBoundingClientRect();
                    if (rect.top <= 0 && rect.bottom > 100) scoreBoard.classList.add('sticky');
                    else scoreBoard.classList.remove('sticky');
                });
            }
        });
    </script>
</body>
</html>
